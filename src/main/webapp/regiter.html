<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		<script src="js/jquery-3.3.1.js"></script>
<input type="radio" name="role" value="horseman" id="horseman" /> 骑手
<input type="radio" name="role" value="user" id="user" checked/> 用户
邮箱：<input type="text" name="email" id="email"/><br/>
用户名：<input type="text" name="username" id="username"/><br/>
密码：<input type="text" name="password" id="password"/><br/>
电话：<input type="text" name="tel" id="tel"/><br/>
<input type="submit" value="注册" id="submit"/>
<script>
	var a=true;
	var b=true;
    var c=true;
    var d=true;
    $("#user").click(clicks1);
    function clicks1() {
        $("#email").blur(blurs);
        function blurs() {
            var email=$("#email").val();
            $.ajax({
                url:"/user/userlogin",
                type:"post",
                data:{"email":email},
                success:function (data) {
                    if(data.datas.code==1){
                        alert("邮箱存在,请重新输入")
						a=false;
                    }
                }
            })
        }
        $("#username").blur(blurs1);
        function blurs1() {
            var username=$("#username").val();
            $.ajax({
                url:"/user/userlogin",
                type:"post",
                data:{"username":username},
                success:function (data) {
                    if (){
                        alert("用户名存在，请重新输入")
						 b=false;
                    }
                }
            })
        }
        $("#submit").click(submit1);

            function submit1() {
                var email = $("#email").val();
                var username = $("#username").val();
                var password = $("#password").val();
                var tel = $("#tel").val();
                $.ajax({
                    url: "/user/userregister",
                    type: "post",
                    data: {"email": email, "username": username, "password": password, "tel": tel},
                    success: function (data) {
                        if (data.statusCode == 200) {
                            alert("注册成功")
                        }
                    }
                })
        }
    }



    $("#horseman").click(clicks2);
    function clicks2() {
        $("#email").blur(blurs);

        function blurs() {
            var email = $("#email").val();
            $.ajax({
                url: "/horse/horsemanlogin",
                type: "post",
                data: {"email": email},
                success: function (data) {
                    if (data.datas.code == 1) {
                        alert("邮箱存在,请重新输入")
                        c = false;
                    }
                }
            })
        }

        $("#username").blur(blurs1);

        function blurs1() {
            var username = $("#username").val();
            $.ajax({
                url: "/horse/horsemanlogin",
                type: "post",
                data: {"username": username},
                success: function (data) {
                    if (data.datas.code == 1) {
                        alert("用户名存在，请重新输入")
                        d = false;
                    }
                }
            })
        }

        $("#submit").click(submit1);
            function submit1() {
                var email = $("#email").val();
                var username = $("#username").val();
                var password = $("#password").val();
                var tel = $("#tel").val();
                $.ajax({
                    url: "/horse/horseregister",
                    type: "post",
                    data: {"email": email, "username": username, "password": password, "tel": tel},
                    success: function (data) {
                        if (data.statusCode == 200) {
                            alert("注册成功")
                        }
                    }
                })
            }
    }

</script>
<a href="/horse/horsemanlogin"></a>
	</body>
</html>
